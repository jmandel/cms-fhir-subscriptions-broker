<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 320">
  <defs>
    <style>
      .actor-text { font-family: Inter, 'Segoe UI', system-ui, sans-serif; font-size: 13px; font-weight: 600; fill: #1e293b; text-anchor: middle; dominant-baseline: central; }
      .msg-text { font-family: Inter, 'Segoe UI', system-ui, sans-serif; font-size: 11px; fill: #334155; dominant-baseline: auto; }
      .lifeline { stroke: #94a3b8; stroke-width: 1.5; stroke-dasharray: 6 4; }
      .arrow { stroke: #334155; stroke-width: 1.5; fill: none; }
      .actor-box-client { fill: #eff6ff; stroke: #3b82f6; stroke-width: 1.5; rx: 6; ry: 6; }
      .actor-box-source { fill: #fefce8; stroke: #eab308; stroke-width: 1.5; rx: 6; ry: 6; }
    </style>
    <marker id="arrowhead" viewBox="0 0 10 8" refX="9" refY="4" markerWidth="8" markerHeight="6" orient="auto">
      <path d="M 0 0.5 L 9 4 L 0 7.5 Z" fill="#334155"/>
    </marker>
  </defs>

  <!-- Actor: Client -->
  <rect x="70" y="20" width="100" height="36" class="actor-box-client"/>
  <text x="120" y="38" class="actor-text">Client</text>

  <!-- Actor: FHIR Server -->
  <rect x="330" y="20" width="100" height="36" class="actor-box-source"/>
  <text x="380" y="38" class="actor-text">FHIR Server</text>

  <!-- Lifelines -->
  <line x1="120" y1="56" x2="120" y2="305" class="lifeline"/>
  <line x1="380" y1="56" x2="380" y2="305" class="lifeline"/>

  <!-- Message 1: Token request (Client -> FHIR Server) -->
  <text x="250" y="92" class="msg-text" text-anchor="middle">Token request (identity + consent context)</text>
  <line x1="120" y1="100" x2="380" y2="100" class="arrow" marker-end="url(#arrowhead)"/>

  <!-- Message 2: Access token (FHIR Server -> Client) -->
  <text x="250" y="142" class="msg-text" text-anchor="middle">Access token</text>
  <line x1="380" y1="150" x2="120" y2="150" class="arrow" marker-end="url(#arrowhead)"/>

  <!-- Message 3: GET request (Client -> FHIR Server) -->
  <text x="250" y="202" class="msg-text" text-anchor="middle">GET /Encounter/enc-98765</text>
  <line x1="120" y1="210" x2="380" y2="210" class="arrow" marker-end="url(#arrowhead)"/>

  <!-- Message 4: Encounter resource (FHIR Server -> Client) -->
  <text x="250" y="252" class="msg-text" text-anchor="middle">Encounter resource (US Core)</text>
  <line x1="380" y1="260" x2="120" y2="260" class="arrow" marker-end="url(#arrowhead)"/>
</svg>